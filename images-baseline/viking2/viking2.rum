REDIT FILE from 24.3.1998 2:45:26
Drakar
Poslední plavba: Osm vikingù a pes^Last voyage: Eight vikings (not to mention the dog)
0 0 5 10 5 0 0 0 0 0  Params
-2147483632 Grid
53 29
drakar-p.bmp
0 obsolete
0 Ext
Drakar-w.BMP
65280 Mask
0 Ext
609 WlList
2306 2818 2307 2563 2819 2308 2820 3076 3332
3588 3844 4100 4356 4612 2309 2565 2821 3077 3333
3589 3845 4101 4357 4613 4869 4102 4358 4614 4870
5126 5382 4359 4615 4871 5127 5383 5639 264 520
1032 4616 4872 5128 5384 5640 5896 9 265 521
777 1033 1545 1801 4873 5129 5385 5641 5897 6153
10 266 522 778 1034 1290 1546 1802 4874 5130
5386 5642 5898 6154 6410 11 267 523 779 1035
1291 1547 5131 5387 5643 5899 6155 6411 6667 12
268 524 780 1036 1292 1548 5132 5388 5644 5900
6156 6412 6668 13 269 525 781 1037 1293 1549
5389 5645 5901 6157 6413 6669 14 270 526 782
1038 1294 1550 5390 5646 5902 6158 6414 6670 15
271 527 783 1039 1295 5391 5647 5903 6159 6415
6671 16 272 528 784 1040 1296 5392 5648 5904
6160 6416 6672 17 273 529 785 1041 1297 5393
5649 5905 6161 6417 6673 6929 18 274 530 786
1042 1298 5394 5650 5906 6162 6418 6674 6930 19
275 531 787 1043 1299 5395 5651 5907 6163 6419
6675 6931 20 276 532 788 1044 1300 5396 5652
5908 6164 6420 6676 6932 21 277 533 789 1045
1301 5397 5653 5909 6165 6421 6677 6933 22 278
534 790 1046 1302 5398 5654 5910 6166 6422 6678
6934 23 279 535 791 1047 1303 5399 5655 5911
6167 6423 6679 6935 24 280 536 792 1048 1304
5400 5656 5912 6168 6424 6680 6936 25 281 537
793 1049 1305 1561 5401 5657 5913 6169 6425 6681
6937 26 282 538 794 1050 1306 1562 5402 5658
5914 6170 6426 6682 6938 27 283 539 795 1051
1307 1563 1819 2075 2331 2843 3099 3355 3611 3867
5403 5659 5915 6171 6427 6683 6939 28 284 540
796 1052 1308 1564 1820 2076 2332 2844 3100 3356
3612 5404 5660 5916 6172 6428 6684 6940 29 285
541 797 1053 1309 1565 5405 5661 5917 6173 6429
6685 6941 30 286 542 798 1054 1310 1566 5406
5662 5918 6174 6430 6686 6942 31 287 543 799
1055 1311 1567 5407 5663 5919 6175 6431 6687 6943
32 288 544 800 1056 1312 1568 5408 5664 5920
6176 6432 6688 6944 33 289 545 801 1057 1313
1569 5409 5665 5921 6177 6433 6689 6945 34 290
546 802 1058 1314 1570 5410 5666 5922 6178 6434
6690 6946 35 291 547 803 1059 1315 1571 1827
5411 5667 5923 6179 6435 6691 6947 36 292 548
804 1060 1316 1572 1828 5412 5668 5924 6180 6436
6692 6948 37 293 549 805 1061 1317 1573 1829
5413 5669 5925 6181 6437 6693 6949 38 294 550
806 1062 1318 1574 1830 5414 5670 5926 6182 6438
6694 6950 39 295 551 807 1063 1319 1575 1831
5415 5671 5927 6183 6439 6695 6951 40 296 552
808 1064 1320 1576 1832 2088 5416 5672 5928 6184
6440 6696 6952 41 297 553 809 1065 1321 1577
1833 2089 5417 5673 5929 6185 6441 6697 6953 42
298 554 810 1066 1322 1578 1834 2090 2346 5418
5674 5930 6186 6442 6698 6954 43 299 555 811
1067 1323 1579 1835 2091 2347 5419 5675 5931 6187
6443 6699 6955 44 812 1068 2092 2348 2604 5420
5676 5932 6188 6444 6700 2349 5421 5677 5933 6189
6445 6701 5422 5678 5934 6190 6446 6702 5423 5679
5935 6191 6447 6703 5168 5424 5680 5936 6192 6448
6704 5169 5425 5681 5937 6193 6449 4914 5170 5426
5682 5938 6194 4403 4659 4915 5171 5427 5683 5939
25 Prg1
name room
var quvod
var chechtoni
var chechthlaska
var moczbabelcu
var qvousy
var pravvousy
var qpejsek
var lastval
ini

if (pokus=1)or(random(100)<40) then 
  quvod:=random(10)+10
else
  quvod:=-2;

chechtoni:=0;
chechthlaska:=0;
moczbabelcu:=0;

qvousy:=0;
pravvousy:=70;

qpejsek:=300+random(600);
lastval:=0;
139 Prg2
if not zije[mala] or not zije[velka] then 
  begin
    quvod:=-1;
    qpejsek:=-1;
  end;

if quvod>0 then dec(quvod)
else if quvod=0 then 
  begin
    quvod:=-1;
    addm(5,'dr1-m-dlouho');
    addv(5,'dr1-v-urcite');
    if random(4)>0 then addv(30+random(30),'dr1-v-olaf');
    if random(4)>0 then addv(30+random(30),'dr1-v-leif');
    if random(4)>0 then addv(30+random(30),'dr1-v-harold');
    if random(4)>0 then addv(30+random(30),'dr1-v-snorr');
    if random(4)>0 then addv(30+random(30),'dr1-v-thorson');
    if random(6)>0 then addd(50+random(30),'dr1-x-erik',116,hlavadr.mluvi);
    addset(quvod,-2);
  end
else if quvod=-2 then
  begin
    if viking7.dostal=-1 then viking7.dostal:=0;
  end;

if not playing(351) and (qpejsek>0) then dec(qpejsek);

if quvod=-2 then
  if moczbabelcu=1 then
    begin
      if no_dialog then addd(2+random(20),'dr-1-achjo',210,viking1.cinnost);
      moczbabelcu:=0;
    end
  else if chechtoni=1 then
    begin
      if no_dialog then 
        begin
          inc(chechthlaska);
          case chechthlaska of
            1:addd(5+random(20),'dr-1-procja',210,viking1.cinnost);
            2:addd(5+random(20),'dr-1-chechtajici',210,viking1.cinnost);
          end;
        end; 
      chechtoni:=0;
    end
  else if no_dialog then
    if (random(1000)<7)and(viking5.cinnost=0) then
      viking5.cinnost:=1
    else if random(10000)<pravvousy then
      begin
        case qvousy of
          0:begin
              case random(2) of 
                0:addd(10,'dr-3-spravny',230,viking3.cinnost);
                1:addd(10,'dr-3-cojeto',230,viking3.cinnost);
              end;
              case random(2) of 
                0:addd(6,'dr-4-magazin',240,viking4.cinnost);
                1:addd(6,'dr-4-copy',240,viking4.cinnost);
              end;
              qvousy:=10;
              pravvousy:=50;
            end;
     10..13:begin
              repeat pom1:=random(3)+1 until pom1<>qvousy-10;
              if qvousy=10 then qvousy:=pom1+10
              else qvousy:=20;
              case pom1 of            
                1:begin
                    addd(6,'dr-3-radeji',230,viking3.cinnost);
                    addd(3,'dr-4-moderni',240,viking4.cinnost);
                  end;
                2:begin
                    addd(6,'dr-4-myslis',240,viking4.cinnost);
                    addd(0,'dr-3-samozrejme',230,viking3.cinnost);
                    addd(10,'dr-4-budu',240,viking4.cinnost);
                    addd(5,'dr-4-hmmm',241,viking4.cinnost);
                    addd(2,'dr-4-ne',240,viking4.cinnost);
                  end; 
                3:begin
                    addd(6,'dr-4-erik',240,viking4.cinnost);
                    addd(0,'dr-3-nesmysl',230,viking3.cinnost);
                    addd(0,'dr-4-taky',240,viking4.cinnost);
                    addd(0,'dr-3-nemel',230,viking3.cinnost);
                  end;
              end;
              pravvousy:=40;
            end;
         20:begin
              dec(pravvousy,5);
              case random(4) of
                0:addd(10,'dr-3-mladez',230,viking3.cinnost);
                1:addd(10,'dr-3-chlap',230,viking3.cinnost);
                2:addd(10,'dr-3-mladi',230,viking3.cinnost);
                3:addd(10,'dr-4-stejne',240,viking4.cinnost);
              end;
            end;
        end
      end
    else if random(1000)<4 then
      begin
        pom1:=random(3)+1;
        if pom1=lastval then pom1:=4;
        lastval:=pom1;
        case pom1 of    
          1:begin
              addset(viking2.cinnost,-1);
              addd(5,'dr-2-uzbudeme'+IntToStr(random(2)+1),220,noprom);
              addd(3,'dr-1-aztambudem',210,viking1.cinnost);
            end;
          2:begin
              addset(viking2.cinnost,-1);
              addd(5,'dr-2-odskocit',220,noprom);
              addd(3,'dr-1-pockej',210,viking1.cinnost);
            end;
          3:begin
              addset(viking2.cinnost,-1);
              addd(5,'dr-2-netrva',220,noprom);
              addd(3,'dr-1-trpelivost',210,viking1.cinnost);
            end;
          4:begin
              addset(viking2.cinnost,-1);
              addd(5,'dr-2-urcite',220,noprom);
              addd(3,'dr-1-bojovnik',210,viking1.cinnost);
            end;
        end;
      end
    else if (qpejsek=0)and playing(351) then
      begin
        qpejsek:=-1;
        addm(10+random(30),'dr-m-podivej');
        pom1:=random(2);
        if (pom1=0) or (random(2)=0) then
          addm(3,'dr-m-nedycha');
        case pom1 of
          0:addv(6,'dr-v-napsa');
          1:addv(7,'dr-v-nato');
        end;
      end;
19 Items
14 17 3 4
vik1_0.bmp
65280 Mask
1 Kind
4 Ext
4 Prg1
name viking1
var cinnost
ini
cinnost:=0;
4 Prg2
case cinnost of
    0:if random(100)<5 then afaze:=random(3);
  210:afaze:=random(3)
end;
12 List
0 256 512 768 1 257 513 769 2
258 514 770
22 17 3 4
vik6_0.bmp
65280 Mask
1 Kind
3 Ext
4 Prg1
name viking3
var cinnost
ini
cinnost:=0;
6 Prg2
case cinnost of
    0:afaze:=0;
  230:afaze:=random(2)*2;
end;

if random(100)<5 then inc(afaze);
12 List
0 256 512 768 1 257 513 769 2
258 514 770
26 17 3 4
vik7_0.bmp
65280 Mask
1 Kind
7 Ext
4 Prg1
name viking4
var cinnost
ini
cinnost:=0;
17 Prg2
case cinnost of
    0:afaze:=0;
  240:if odd(count) then
        begin
          afaze:=afaze div 2;
          case afaze of
            0,1:if random(100)<20 then afaze:=2+random(2)
                else afaze:=1-afaze;
            2,3:if random(100)<35 then afaze:=random(2)
                else afaze:=5-afaze;
          end;
          afaze:=afaze+afaze;
        end;
  241:afaze:=6;
end;

if random(100)<5 then inc(afaze);
12 List
0 256 512 768 1 257 513 769 2
258 514 770
30 17 3 4
vik2_0.bmp
65280 Mask
1 Kind
4 Ext
10 Prg1
name viking5
var cinnost
var faze
var delay
var poslhlaska
var pochlasek
ini
cinnost:=0;
poslhlaska:=0;
pochlasek:=0;
60 Prg2
case cinnost of
  0:begin
      faze:=0;
      if random(1000)<3 then cinnost:=2;
    end;
  1:begin
      case faze of
        0:begin
            afaze:=4; 
            pom1:=random(4)+1;
            if pom1=poslhlaska then pom1:=5;
            addd(0,'dr-5-srab'+IntToStr(pom1),252,noprom);  
            poslhlaska:=pom1;
            inc(faze);
            inc(pochlasek);
          end;
        1:begin
            if playing(252) then
              begin
                afaze:=2+random(2)*2;
                if afaze=2 then 
                  if random(100)<20 then
                    afaze:=afaze-1+2*random(2);
              end
            else inc(faze);
          end;
        2:begin
            case pochlasek of
              3,8,15,20,30,50:room.moczbabelcu:=1;
            end; 
            cinnost:=2;
            faze:=0;
          end;
      end; 
    end; 
  2:begin
      case faze of
        0:begin
            delay:=random(5)+10;
            inc(faze); 
          end; 
        1:begin
            if afaze=3 then 
              if random(2)=0 then afaze:=2
              else 
            else 
              if random(100)<10 then 
                if random(2)=0 then afaze:=3
                else afaze:=1
              else afaze:=2;          						
            if delay=0 then faze:=2
            else dec(delay);
          end;
        2:begin
            afaze:=0;
            cinnost:=0;
          end;  
      end;  
    end;
end;
12 List
0 256 512 768 1 257 513 769 2
258 514 770
34 17 3 4
vik5_0.bmp
65280 Mask
1 Kind
3 Ext
4 Prg1
name viking6
var smich
ini
smich:=0;
24 Prg2
case smich of
  0:begin
      if random(100)<5 then 
        afaze:=1
      else afaze:=0;
    end;
  1:begin
      zrus_dialogy;
      addd(0,'dr-6-checheche',260,noprom); 
      inc(smich);
    end;
  2:begin      
      if talking(260) then
        if afaze=2 then afaze:=3
        else afaze:=2
      else
        begin
          afaze:=0;
          smich:=0;
          room.chechtoni:=1;
        end; 
    end;
end;
    
12 List
0 256 512 768 1 257 513 769 2
258 514 770
38 17 3 4
vik3_0.bmp
65280 Mask
1 Kind
6 Ext
6 Prg1
name viking7
var dostal
var otrne
ini
dostal:=-1;
afaze:=1;
37 Prg2

case dostal of
  0:if playing(270) then
      if afaze=1 then afaze:=2
      else afaze:=1
    else
      begin
        afaze:=1;
        if random(100)<10 then
          snd('dr-7-sm'+IntToStr(random(8)+1),270);
      end; 
  1,2,3:begin 
          inc(dostal);
          afaze:=0;
        end;
  4:begin
      otrne:=random(1200)+600;
      inc(dostal);
      viking6.smich:=1;
    end;
  5:begin
      if otrne>0 then dec(otrne);
      if playing(271) then
        begin
          afaze:=random(2)*2+3;
          if random(100)<7 then inc(afaze);
        end
      else
        begin
          afaze:=3; 
          if random(100)<7 then inc(afaze);
          if otrne=0 then dostal:=0
          else if random(100)<3 then
            snd('dr-7-brble'+IntToStr(random(5)+1),271);
        end;
    end;
end;
12 List
0 256 512 768 1 257 513 769 2
258 514 770
39 14 8 7
spalici1.BMP
65280 Mask
1 Kind
5 Ext
11 Prg1
name viking8
var nervozita
var cinnost
var mira1
var mira2
var mira0
var delay
ini
nervozita:=0;
cinnost:=0;
	
88 Prg2
if nervozita=0 then
  begin
    nervozita:=1;
    mira1:=random(200)+200;
    mira2:=mira1+random(150)+150;
    mira0:=random(mira1-80)+90;
  end;
if playing(270) then inc(nervozita);
case cinnost of
  0:if nervozita=mira1 then
      begin
        inc(nervozita);
        if no_dialog then cinnost:=10
        else nervozita:=nervozita-20
      end
    else if nervozita=mira2 then
      begin 
        inc(nervozita);
        if no_dialog then cinnost:=20
        else nervozita:=nervozita-20
      end
    else if nervozita=mira0 then
      begin 
        inc(nervozita);
        cinnost:=5;
      end;
 5:begin
    afaze:=3;
    delay:=5;
    inc(cinnost);
   end;
 6: if delay>0 then dec(delay) else inc(cinnost);
 7: begin cinnost:=0;afaze:=0; end;
 10:begin
      afaze:=3;
      talk('dr-8-ztichni'+IntToStr(random(2)+1),280);
      inc(cinnost);
    end;
 11:if playing(280) then
      afaze:=random(3)+3
    else
      begin
        afaze:=0;
        cinnost:=0;
      end;
 20:begin
      afaze:=3;
      talk('dr-8-nenechas',280);
      inc(cinnost);
    end;
 21:if playing(280) then
      afaze:=random(3)+3
    else
      begin
        inc(cinnost);
        delay:=20;
      end;
 22:begin
      afaze:=1;
      talk('dr-8-aaa',280);
      inc(cinnost);
      delay:=9;
    end;
 23:if delay=0 then inc(cinnost)
    else dec(delay);
 24:begin
      afaze:=2;
      snd('dr-x-buch',281);
      viking7.dostal:=1;
      nervozita:=0;
      inc(cinnost);
      delay:=4;
    end;
 25:if delay=0 then
      begin
        afaze:=1;
        inc(cinnost);
        delay:=3;
      end
    else dec(delay);
 26:if delay=0 then 
      begin
        afaze:=0;
        cinnost:=0;
        delay:=3;
      end
    else dec(delay);
end;
12 List
771 1027 1283 1539 772 1028 1284 1540 773
1029 1285 1541
4 2 4 3
korunka.BMP
65280 Mask
1 Kind
0 Ext
0 Prg1
0 Prg2
6 List
256 1 257 258 259 515
25 16 3 1
stit.BMP
65280 Mask
1 Kind
0 Ext
0 Prg1
0 Prg2
3 List
0 1 2
0 0 9 9
ocel-1.bmp
65280 Mask
2 Kind
0 Ext
0 Prg1
0 Prg2
17 List
768 1024 1280 1536 1792 2048 513 769 258
514 3 259 4 5 6 7 8
25 10 3 1
stit.BMP
65280 Mask
1 Kind
0 Ext
0 Prg1
0 Prg2
3 List
0 1 2
34 15 1 2
ocel-2.bmp
65280 Mask
2 Kind
0 Ext
0 Prg1
0 Prg2
2 List
0 256
45 17 3 4
pesos1.BMP
65280 Mask
1 Kind
2 Ext
5 Prg1
name pesos
var cinnost
var delay
ini
cinnost:=0;
27 Prg2
case cinnost of
  0:begin
      afaze:=2;  
      cinnost:=1;
      delay:=random(100)+50;
    end;
  1:if delay=0 then inc(cinnost)
    else dec(delay);
  2:begin
      sndcyc('dr-x-pes',351);
      delay:=random(100)+20;
      inc(cinnost);
    end;
  3:if delay=0 then
      begin
        ksnd(351);
        cinnost:=0;
      end
    else
      begin
        if afaze=0 then afaze:=1
        else afaze:=0;
        dec(delay);
      end; 
end;
      
      
7 List
768 1 257 513 769 2 514
25 8 1 2
ocel-2.bmp
65280 Mask
2 Kind
0 Ext
0 Prg1
0 Prg2
2 List
0 256
28 15 1 2
ocel-2.bmp
65280 Mask
2 Kind
0 Ext
0 Prg1
0 Prg2
2 List
0 256
16 11 3 1
mala.bmp
65280 Mask
3 Kind
0 Ext
0 Prg1
0 Prg2
3 List
0 1 2
15 13 4 2
velka.bmp
65280 Mask
4 Kind
0 Ext
0 Prg1
0 Prg2
8 List
0 256 1 257 2 258 3 259
18 17 3 4
vik2_0.bmp
65280 Mask
1 Kind
4 Ext
6 Prg1
name viking2
var cinnost
var faze
var delay
ini
cinnost:=0;
50 Prg2
case cinnost of
  0:begin
      faze:=0;
      if random(1000)<3 then cinnost:=2;
    end;
 -1:begin
      afaze:=2;
      if talking(220) then cinnost:=1;
    end; 
  1:begin
      if talking(220) then
         begin
           afaze:=2+random(2)*2;
           if afaze=2 then 
             if random(100)<7 then
               afaze:=afaze-1+2*random(2);
         end
      else 
        begin 
          faze:=0;
          inc(cinnost);
        end;
    end; 
  2:begin
      case faze of
        0:begin
            delay:=random(5)+10;
            inc(faze); 
          end; 
        1:begin
            if afaze=3 then 
              if random(2)=0 then afaze:=2
              else 
            else 
              if random(100)<7 then 
                if random(2)=0 then afaze:=3
                else afaze:=1
              else afaze:=2;          						
            if delay=0 then faze:=2
            else dec(delay);
          end;
        2:begin
            afaze:=0;
            cinnost:=0;
          end;  
      end;  
    end;
end;

    
12 List
0 256 512 768 1 257 513 769 2
258 514 770
2 9 4 4
Drakar-hlava0.BMP
65280 Mask
1 Kind
2 Ext
4 Prg1
name hlavadr
var mluvi
ini
mluvi:=0;
9 Prg2
if (count mod 3)=1 then
 if mluvi<>0 then 
  begin
   pom1:=afaze;
   repeat
    afaze:=random(3);
   until afaze<>pom1;
  end
  else afaze:=0;
1 List
258
EOF
